{% extends "base.html" %}

{% block head %}
  <title>Index of Theorems</title>
{% endblock %}

{% block header %}
  <h1>Index of Theorems</h1>
{% endblock %}

{% block content %}
<ul>
{% for key in theoremLevels recursive %}
{% set xKey = key.replace('-','_') %}
{% set item = theoremLevels[key] %}
  <li x-data="{ open{{xKey}}: false, open{{xKey}}Desc: false }">
    <span @click="open{{xKey}} = ! open{{xKey}}">&nbsp;{{ key }}&nbsp;</span>
    {% if key in labelsDesc %}
    <span @click="open{{xKey}}Desc = ! open{{xKey}}Desc">({{labelsDesc[key]['type']}})</span>
    <div class="border-4 border-blue-200" x-show="open{{xKey}}Desc">{{labelsDesc[key]['desc'] | safe }}</div>
    {% endif %}
    {% if key in theorems %}
      <div class="border-4 border-blue-200" x-show="open{{xKey}}">
      {% for aTarget in theorems[key] %}
      {% set aDoc = aTarget[0] %}
      {% set aPage = aTarget[2] %}
      {% set aType = aTarget[3] %}
        <a href="/theorems/{{aDoc}}/{{key}}/{{aPage}}.html" target="lpit_{{aDoc}}">{{aDoc}}-{{aType}}-{{aPage}}</a>
      {% endfor %}
      </div>
    {% endif %}
    {%- if item is mapping -%}
      <ul x-show="open{{xKey}}">{{ loop(item) }}</ul>
    {%- endif -%} 
  </li>
{% endfor %}
</ul>
{% endblock %}

{% block footer %}
{% endblock %}

